!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}var o=n(1),i=r(o);window.Inc=window.inc=new i.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(2),a=r(i),c=n(3),u=r(c),s=n(4),l=r(s),f=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e},h=function(){function t(){o(this,t),this.queue={};var e=f(document.getElementsByTagName("script")),n=e.pop(),r=n.getAttribute("config"),i=n.getAttribute("autoload"),a=n.getAttribute("core"),c=n.getAttribute("callback");this._init(r),this._autoload(e,i,a,c)}return t.prototype._init=function(t){this.config=new u.default(window[t]||{}),this.hook=new a.default},t.prototype._autoload=function(t,e,n,r){for(var o=0;o<t.length;o++){var i=t[o],a=i.getAttribute("inc-name"),c=i.getAttribute("inc-path"),u=i.getAttribute("inc-version"),s=i.getAttribute("inc-rely");a&&c&&this.add(a,{path:c,version:u,rely:s?s.split(","):[]})}!e||"true"!==e&&"yes"!==e||this.use(n,function(){r&&window.eval.call(window,r)})},t.prototype.add=function(t,e){if(t&&e){var n="string"==typeof e?{path:e}:e;n.name=t,this.queue[t]=n}},t.prototype.adds=function(t){if(t.modules)for(var e in t.modules)if(t.modules.hasOwnProperty(e)){var n=t.modules[e];t.type&&!n.type&&(n.type=t.type),this.add(e,n)}},t.prototype.use=function(){var t=this,e=function(){},n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(e=n.pop());var r=n.length;if(0===r)return void e();var o=function(){r--,0===r&&(e(),setTimeout(function(){t.hook.doStatistics(t.config.get("reportCallback"))},0))};n.forEach(function(e){new l.default(t.config,t.hook,t.queue,e).execute(function(){o()})})},t}();e.default=h},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(){n(this,t),this.statistics={storeCurrentSize:{type:"count",name:"inc.storeCurrentSize"},storeGetItemTime:{type:"timing",name:"inc.storeGetItemTime"},mergeTime:{type:"timing",name:"inc.mergeTime"},mergeFetchDiffDataTime:{type:"timing",name:"inc.mergeFetchDiffDataTime"},mergeFetchDiffDataFailCount:{type:"count",name:"inc.mergeFetchDiffDataFailCount"},mergeFetchDiffDataSize:{type:"count",name:"inc.mergeFetchDiffDataSize"},mergeFetchFileContentTime:{type:"count",name:"inc.mergeFetchFileContentTime"},mergeFetchFileContentSize:{type:"count",name:"inc.mergeFetchFileContentSize"},loaderScriptEvalTime:{type:"timing",name:"inc.loaderScriptEvalTime"}},this.tasks=[]}return t.prototype.push=function(t,e){this.tasks.push([t,e])},t.prototype.doStatistics=function(t){var e=this;t&&this.tasks.forEach(function(n){var r=e.statistics[n[0]];r&&t(r,n[1])})},t}();e.default=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o={activated:!0,bizname:"",storeMaxSize:0,prefixServerUrl:"",prefixDiffFileUrl:"",reportCallback:function(t,e){window.mta&&window.mta(t.type,t.name,e)}},i=function(){function t(e){n(this,t),this.config=r({},o,e)}return t.prototype.set=function(t,e){this.config[t]=e},t.prototype.get=function(t){return this.config[t]},t}();e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var i=n(5),a=r(i),c=n(6),u=r(c),s=function(){function t(e,n,r,i){o(this,t),this.config=e,this.hook=n,this.head=document.head||document.getElementsByTagName("head")[0],this.activated=e.get("activated"),this.queue=r,this.main=i}return t.prototype._runLoaded=function(t,e){var n=this.queue[t];if(n.content)return void e(n);var r=new a.default(this.config,this.hook),o=new u.default(this.config,this.hook);if(!r.isSupported())return void e(n);var i=r.getItem(n.name)||{},c=i.u,s=i.v,l=i.c;if(n.version&&s===n.version)return n.content=l,void e(n);var f=function(t){t&&(n.content=t,setTimeout(function(){r.setItem(n.name,{u:n.path,v:n.version,c:n.content})},0)),e(n)};return c&&c!==n.path?void o.getMergeContent(c,n.path,l,f):void o.getFileContent(n.path,f)},t.prototype._runQueue=function(t){var e=this;if(!this.activated)return void t();var n=[],r=function t(r){var o=e.queue[r];if(o){if(o.rely&&o.rely.length>0)for(var i=0;i<o.rely.length;i++)t(o.rely[i]);n.push(o.name)}};r(this.main);var o=n.length;if(0===o)return void t();var i=function(){o--,0===o&&t()};n.forEach(function(t){e._runLoaded(t,i)})},t.prototype._runModule=function(t,e){var n=t.path,r=t.content,o=n.split("?")[0],i=t.type||o.toLowerCase().substring(o.lastIndexOf(".")+1);if("js"===i)if(r&&this.scriptRun(r))e();else{var a=this.scriptInject(n);a.onload=a.onreadystatechange=function(){e()}}else if("css"===i){var c=Boolean(r),u=this.styleInject(c?r:n,c);u.onload=u.onreadystatechange=function(){e()}}else console&&console.warn&&console.warn("Inc Error :: Module type not js or css: "+t.name),e()},t.prototype.__recursionExecute=function(t,e){var n=this,r=t.length;if(0===r)return void e();var o=function(){r--,0===r&&e()};t.forEach(function(t){var e=n.queue[t];"undefined"==typeof e?(console&&console.warn&&console.warn("Inc Error :: Module not found: "+t),o()):e.rely&&e.rely.length>0?n.__recursionExecute(e.rely,function(){n._runModule(e,function(){o()})}):n._runModule(e,function(){o()})})},t.prototype.styleInject=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){var n=document.createElement("style");return n.type="text/css",n.textContent=t,this.head.appendChild(n),n}var r=document.createElement("link");return r.type="text/css",r.rel="stylesheet",r.href=t,this.head.appendChild(r),r},t.prototype.scriptInject=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("script");return n.type="text/javascript",n.async="true",e?n.textContent=t:n.src=t,this.head.appendChild(n),n},t.prototype.scriptRun=function(t){if(!t||!/\S/.test(t))return!1;try{var e=(new Date).getTime();return window.eval.call(window,t),this.hook.push("loaderScriptEvalTime",(new Date).getTime()-e),!0}catch(t){return console&&console.warn&&console.warn(t),!1}},t.prototype.execute=function(t){var e=this;this._runQueue(function(){e.__recursionExecute([e.main],t)})},t}();e.default=s},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(e,r){n(this,t),this.hook=r,this.prefix=e.get("bizname"),this.maxSize=e.get("storeMaxSize"),this.currentSize=0,this.isSupported()&&(this.currentSize=Number(localStorage.getItem(this.prefix+"_:cs")),this.hook.push("storeCurrentSize",this.currentSize))}return t.prototype.isSupported=function(){try{if(!("localStorage"in window&&window.localStorage))return!1;localStorage.setItem("-.-",1),localStorage.removeItem("-.-")}catch(t){return localStorage.clear(),!1}return!0},t.prototype.clearSuperfluous=function(){if(window.localStorage){for(var t="",e=0,n=0,r=0;r<localStorage.length;r++){var o=localStorage.key(r);if(0===o.indexOf(this.prefix+":")){var i=localStorage.getItem(o),a=JSON.parse(i);(0===n||a.t<n)&&(n=a.t,t=o,e=o.length+i.length)}}localStorage.removeItem(t),this.currentSize-=e}},t.prototype.getItem=function(t){if(!window.localStorage||!t)return null;var e=this.prefix+":"+t,n=localStorage.getItem(e);if(!n)return null;var r=JSON.parse(n);r.t=Date.now();try{localStorage.setItem(e,JSON.stringify(r))}catch(t){}return r},t.prototype.setItem=function(t,e,n,r){if(!(window.localStorage&&t&&e&&n&&r))return!1;var o=this.prefix+":"+t,i=JSON.stringify({u:r,v:n,c:e,t:Date.now()}),a=o.length+i.length;if(a>this.maxSize)return!1;var c=localStorage.getItem(o);for(c&&(this.currentSize-=o.length+c.length,localStorage.removeItem(o));this.currentSize+a>this.maxSize;)this.clearSuperfluous();try{return localStorage.setItem(o,i),localStorage.setItem(this.prefix+"_:cs",this.currentSize+a),this.currentSize+=a,!0}catch(t){return!1}},t.prototype.removeItem=function(t){if(!window.localStorage||!t)return!1;var e=this.prefix+":"+t,n=localStorage.getItem(e);if(!n)return!0;var r=e.length+n.length;try{localStorage.setItem(this.prefix+"_:cs",this.currentSize-r)}catch(t){return!1}return localStorage.removeItem(e),this.currentSize-=r,!0},t}();e.default=r},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(e,r){n(this,t),this.hook=r,this.prefixServerUrl=e.get("prefixServerUrl"),this.prefixDiffFileUrl=e.get("prefixDiffFileUrl")}return t.prototype._xhr=function(t,e){var n=new window.XMLHttpRequest;return n.open("GET",t,!0),n.onreadystatechange=function(){4===n.readyState&&(200===n.status?e(n.responseText):e())},n.send(null)},t.prototype._merge=function(t,e){for(var n=(new Date).getTime(),o="",i=null,a=0;a<e.length;a++){var c=e[a];if("object"===("undefined"==typeof c?"undefined":r(c))){var u=c[0]-1,s=c[1];i&&(u+=i[0]),i=c,o+=t.substring(u,u+s)}else o+=c}return this.hook.push("mergeTime",(new Date).getTime()-n),o},t.prototype._fetchDiffData=function(t,e,n){var r=this,o=(new Date).getTime(),i=t.replace(/(http:|https:)/,""),a=e.replace(/(http:|https:)/,"");this._xhr(this.prefixDiffFileUrl+a.replace(/\//g,"")+i.replace(/\//g,""),function(t){if(t){var e=t[t.length-1];n(1===Number(e)||2===Number(e)?{code:Number(e),data:t.substr(0,t.length-1)}:{code:Number(e)}),r.hook.push("mergeFetchDiffDataSize",t.length)}else n({code:0}),r.hook.push("mergeFetchDiffDataFailCount"),r._xhr(r.prefixDiffFileUrl+"?target="+a+"&source="+i,function(){return!0});r.hook.push("mergeFetchFileContentTime",(new Date).getTime()-o)})},t.prototype.getFileContent=function(t,e){var n=this;try{var r=(new Date).getTime();this._xhr(t,function(t){e(t),n.hook.push("mergeFetchFileContentTime",(new Date).getTime()-r),t&&""!==t&&n.hook.push("mergeFetchFileContentSize",t.length)})}catch(t){e()}},t.prototype.getMergeContent=function(t,e,n,r){var o=this;this.prefixServerUrl||console&&console.error&&console.error("In Error :: prefixServerUrl url not set"),this.prefixDiffFileUrl||console&&console.error&&console.error("In Error :: prefixDiffFileUrl url not set");try{this._fetchDiffData(t,e,function(t){1===t.code?r(o._merge(n,JSON.parse(t.data))):2===t.code?r(t.data):3===t.code?r(n):r()})}catch(t){r()}},t}();e.default=o}]);